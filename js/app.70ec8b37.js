(function(){"use strict";var t={3383:function(t,e,i){var s=i(2856),n=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("h2",[t._v("Simon Game")]),e("div",{staticClass:"content"},[e("game-board",{attrs:{status:t.status,difficulty:t.difficulty,round:t.round},on:{"update:status":function(e){t.status=e}}}),e("div",[e("game-info",{attrs:{status:t.status,round:t.round,"last-round":t.lastRound},on:{"start-game":t.startGame}}),e("game-options",{attrs:{options:t.options},model:{value:t.difficulty,callback:function(e){t.difficulty=e},expression:"difficulty"}})],1)],1)])},a=[],u=function(){var t=this,e=t._self._c;return e("div",{staticClass:"game-options"},[e("h2",{staticClass:"game-options__title"},[t._v("Уровень сложности:")]),t._l(t.options,(function(i){return e("div",{key:i.value,staticClass:"game-options__item"},[e("input",{staticClass:"game-options__radio",attrs:{type:"radio",name:i.name},domProps:{value:i.value,checked:i.value===t.value},on:{change:function(e){return t.$emit("input",i.value)}}}),t._v(" "+t._s(i.label)+" ")])}))],2)},o=[],r={props:{value:Number,options:{type:Array,required:!0}}},c=r,l=i(1656),d=(0,l.A)(c,u,o,!1,null,"76354c09",null),h=d.exports,f=function(){var t=this,e=t._self._c;return e("div",{staticClass:"game-board"},[e("div",{staticClass:"game-board__items"},t._l(t.sections,(function(i){return e("game-board-section",{key:i.id,attrs:{section:i,status:t.status},on:{"section-clicked":t.sectionClicked,"change-activity":t.changeActivity}})})),1)])},p=[],v=(i(4114),function(){var t=this,e=t._self._c;return e("div",{staticClass:"section",class:[t.section.active&&"active",t.section.color],on:{click:t.clicked}})}),m=[],y={props:{section:{type:Object,required:!0},status:{type:String,required:!0}},computed:{id(){return this.section.id},isActive(){return this.section.active}},watch:{isActive(t){!0===t&&this.play()}},methods:{clicked(){"play"===this.status&&(this.$emit("section-clicked",this.id),this.$emit("change-activity",this.id,!0),this.play())},play(){this.playAudio(),setTimeout((()=>{this.$emit("change-activity",this.id,!1)}),200)},playAudio(){const t=this.id+1,e=new Audio(`sounds/${t}.ogg`);e.addEventListener("canplaythrough",(()=>{e.play()}))}}},g=y,_=(0,l.A)(g,v,m,!1,null,"ec2a563c",null),b=_.exports,q={props:{status:{type:String,required:!0},isDisabled:{type:Boolean,default:!1},round:{type:Number,required:!0},difficulty:{type:Number,required:!0}},components:{GameBoardSection:b},data:()=>({sequence:[],userSequence:[],sections:[{id:0,color:"red",active:!1},{id:1,color:"blue",active:!1},{id:2,color:"yellow",active:!1},{id:3,color:"green",active:!1}]}),watch:{status(t){"run"===t&&this.start(),"next"===t&&this.run()}},methods:{sectionClicked(t){this.userSequence.push(t),this.isFailed()?(this.$emit("update:status","failed"),this.userSequence=[],this.sequence=[]):this.sequence.length===this.userSequence.length&&(this.$emit("update:status","win"),this.userSequence=[])},isFailed(){const t=this.userSequence.length;return this.sequence[t-1]!==this.userSequence[t-1]},async play(){for(const t of this.sequence){const e=this.sections[t];await this.playSound(e)}this.$emit("update:status","play")},async playSound(t){return new Promise((e=>{setTimeout((()=>{t.active=!0,e()}),this.difficulty)}))},start(){this.sequence=[],this.userSequence=[],this.run()},run(){let t=this.getRandom();this.sequence.push(t),this.play()},getRandom(){return Math.floor(4*Math.random())},changeActivity(t,e){this.sections[t].active=e}}},w=q,k=(0,l.A)(w,f,p,!1,null,"78c5712a",null),A=k.exports,S=function(){var t=this,e=t._self._c;return e("div",{staticClass:"game-info"},[e("h2",[t._v(" Раунд: "),e("span",[t._v(t._s(t.round))])]),e("button",{staticClass:"game-info__btn",attrs:{disabled:t.isBtnDisabled},on:{click:function(e){return t.$emit("start-game")}}},[t._v(" Start ")]),t.isFailed?e("p",[t._v(" Вы проиграли после "),e("span",[t._v(t._s(t.round))]),t._v(" раундов! ")]):t._e()])},x=[],C={props:{status:{type:String,required:!0},round:{type:Number,required:!0},lastRound:{type:Number,required:!0}},computed:{isFailed(){return"failed"===this.status},isBtnDisabled(){return"play"===this.status||"run"===this.status}}},O=C,$=(0,l.A)(O,S,x,!1,null,"717d2f2f",null),R=$.exports,j={name:"App",components:{GameInfo:R,GameBoard:A,GameOptions:h},data:()=>({status:"disabled",round:0,lastRound:0,difficulty:1500,options:[{label:"Легкий",name:"easy",value:1500},{label:"Средний",name:"medium",value:1e3},{label:"Сложный",name:"hard",value:400}]}),watch:{status(t){"win"===t?this.nextRound():"failed"===t&&this.failed()}},methods:{startGame(){this.round=1,this.status="run"},nextRound(){this.round++,this.status="next"},failed(){this.lastRound=this.round,this.round=0,this.status="failed"}}},G=j,B=(0,l.A)(G,n,a,!1,null,null,null),F=B.exports;s.Ay.config.productionTip=!1,s.Ay.config.devtools=!0,new s.Ay({render:t=>t(F)}).$mount("#app")}},e={};function i(s){var n=e[s];if(void 0!==n)return n.exports;var a=e[s]={exports:{}};return t[s].call(a.exports,a,a.exports,i),a.exports}i.m=t,function(){var t=[];i.O=function(e,s,n,a){if(!s){var u=1/0;for(l=0;l<t.length;l++){s=t[l][0],n=t[l][1],a=t[l][2];for(var o=!0,r=0;r<s.length;r++)(!1&a||u>=a)&&Object.keys(i.O).every((function(t){return i.O[t](s[r])}))?s.splice(r--,1):(o=!1,a<u&&(u=a));if(o){t.splice(l--,1);var c=n();void 0!==c&&(e=c)}}return e}a=a||0;for(var l=t.length;l>0&&t[l-1][2]>a;l--)t[l]=t[l-1];t[l]=[s,n,a]}}(),function(){i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,{a:e}),e}}(),function(){i.d=function(t,e){for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={524:0};i.O.j=function(e){return 0===t[e]};var e=function(e,s){var n,a,u=s[0],o=s[1],r=s[2],c=0;if(u.some((function(e){return 0!==t[e]}))){for(n in o)i.o(o,n)&&(i.m[n]=o[n]);if(r)var l=r(i)}for(e&&e(s);c<u.length;c++)a=u[c],i.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return i.O(l)},s=self["webpackChunksimon_game"]=self["webpackChunksimon_game"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=i.O(void 0,[504],(function(){return i(3383)}));s=i.O(s)})();
//# sourceMappingURL=app.70ec8b37.js.map